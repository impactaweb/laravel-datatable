!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1),n(2)},function(t,e,n){"use strict";const i=window.jQuery;window.initLoading=function(t='[data-container="loading"]'){i(t).html('\n      <div class="loading-container fixed">\n          <div class="lds-roller">\n              <div></div>\n              <div></div>\n              <div></div>\n              <div></div>\n          </div>\n      </div>\n    ')},window.finishLoading=function(t='[data-container="loading"]'){i(t).html("")}},function(t,e,n){"use strict";const i=window.jQuery;i(document).ready((function(){const t=i("#listingForm");function e(t=!0){t?window.initLoading():window.finishLoading()}i(".actionButton").click((function(){let n=i(this).data("url"),a=i(this).data("method"),o=i(this).data("confirmation"),r=null,s="GET"==i(this).data("method")?"GET":"POST";-1==!i.inArray(s,["GET","POST","PUT","PATCH","DELETE"])&&(s="GET");let d=i(".listing-checkboxes:checked");if((n.indexOf("{id}")>=0||n.indexOf("{ids}")>=0||"GET"!=s)&&!(d.length>0))return void alert("Selecione no minimo 1 item da listagem");let c=[];d.each((function(){c.push(i(this).val())}));let l=c[0],f=c.join(",");n=n.replace("{id}",l).replace("{ids}",f),"GET"==s?r=function(){e(),window.location.href=n}:(t.prop("action",n),t.prop("method",s),t.find('input[name="_method"]').val(a),r=function(){t.submit()}),o.length>0?(i("#confirmationModal").data("executar",r).modal("show"),i("#confirmationModal .modal-body").html(o),i("#confirmationModal .btnConfirm").click((function(){i("#confirmationModal").data("executar")(),event.preventDefault()}))):r()}));const n=i("input.listing-checkboxes");n.length>0&&(i("#listagemTable tbody tr:not(.empty) td").click((function(t){const e=i(this).parents("tr");let n=e.attr("data-search-field");if(n)return parent.$("#modal-search-"+n).modal("hide"),void parent.$("#c-"+n).val(e.attr("data-search-value"));if(i(t.target).is("a")||i(t.target).is("img")||i(t.target).is("input")||i(t.target).is("button"))return;const a=i(this).parents("tr").find(".listing-checkboxes:first");a.is(":checked")?(a.prop("checked",!1),i(this).parents("tr").removeClass("active")):(a.prop("checked","checked"),i(this).parents("tr").addClass("active"))})),i("#listagemTable tbody tr:not(.empty)").dblclick((function(t){if(i(t.target).is("a")||i(t.target).is("img")||i(t.target).is("input")||i(t.target).is("button"))return;const e=i(this);i(".listing-checkboxes").prop("checked",!1).parents("tr").removeClass("active"),e.addClass("active").find(".listing-checkboxes").prop("checked","checked"),i('.actionButton[data-verb="edit"]').length>0&&i('.actionButton[data-verb="edit"]').trigger("click")}))),i("input.listing-checkboxes").change((function(t){this.checked?i(this.parentNode.parentNode).addClass("active"):i(this.parentNode.parentNode).removeClass("active")})),i("#listagemTable").checkboxes("range",!0),i('[data-avancada="buscar"]').click((function(){i("#formBuscaAvacada").submit()})),i("a.flagItem").click((function(){let t=i(this).parents("tr").find(".listing-checkboxes").val(),n=null;n=i(this).parents("td").find("[data-double-flag]").length>1?i(this).hasClass("flag-on")?1:0:i(this).hasClass("flag-on")?0:1;let a=i(this).data("field");e();let o=window.location.pathname.replace(/\/+$/,"")+"/"+t+"/updateflag",r={responseFormat:"json",listingFlagField:a,newFlag:n};i.ajax({url:o,method:"POST",data:r,context:i(this),dataType:"json"}).done((function(t){if(t.error)return alert(t.error),void e(!1);i(this).parents("td").find("[data-double-flag]").length>1&&("1"===t.flag?i(this).parents("td").find('[data-double-flag="off"]').remove():i(this).parents("td").find('[data-double-flag="on"]').remove(),i(this).attr("data-double-flag","")),i(this).html(t.flag).removeClass("flag-on").removeClass("flag-off").addClass("1"==t.flag?"flag-on":"flag-off")})).fail((function(t){alert(t.responseJSON.error?t.responseJSON.error:"Erro ao alterar.")})).always((function(){e(!1)}))})),i('input[name="checkbox-listing"]').click((function(){i('[name="checkbox-listing"]').is(":checked")?i(".listing-checkboxes").prop("checked","checked").parents("tr").addClass("active"):i(".listing-checkboxes").prop("checked",!1).parents("tr").removeClass("active")})),n.each((function(t,e){e.checked=!1})),i('[data-toggle="tooltip"]:first').data&&i('[data-toggle="tooltip"]:first').data("bs.tooltip")||i('[data-toggle="tooltip"]').tooltip(),i("#listingForm th order-asc").addClass("fas fa-sort-up"),i("#listingForm th order-desc").addClass("fas fa-sort-down")})),window.onpageshow=function(t){t.persisted&&window.location.reload()}}]);